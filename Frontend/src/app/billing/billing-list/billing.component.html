<div class="container mt-4" *ngIf="!filteredBill">
  <h2 class="mb-4 text-primary fw-bold">
    <i class="bi bi-receipt-cutoff me-2"></i>Billing List
  </h2>
  <div class="table-responsive shadow-sm rounded-4">
    <table class="table table-striped rounded-4 overflow-hidden mb-0">
      <thead class="table-primary">
        <tr>
          <th>Bill No</th>
          <th>Reservation ID</th>
          <th>Guest Code</th>
          <th>Room Code</th>
          <th>Base</th>
          <th>Tax</th>
          <th>Total</th>
          <th>Date</th>
          <th>Print</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let bill of bills">
          <td class="fw-semibold">{{ bill.billNo }}</td>
          <td>{{ bill.reservationCode }}</td>
          <td>{{ bill.guestCode }}</td>
          <td>{{ bill.roomCode }}</td>
          <td>₹{{ bill.baseAmount }}</td>
          <td>₹{{ bill.taxAmount }}</td>
          <td>
            <span class="fw-bold text-success">₹{{ bill.totalAmount }}</span>
          </td>
          <td>{{ bill.date }}</td>
          <td>
            <button class="btn btn-success btn-sm rounded-pill px-3" (click)="generatePrintableBill(bill)">
              <i class="bi bi-printer me-1"></i>Print
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

<!-- Print View -->
<div class="container mt-5 p-4 border rounded-4 shadow-sm bg-white" *ngIf="filteredBill">
  <h3 class="text-center text-primary fw-bold mb-3">
    <i class="bi bi-file-earmark-text me-2"></i>Guest Bill
  </h3>
  <hr />
  <div class="row mb-3">
    <div class="col-md-6">
      <p><strong>Bill No:</strong> {{ filteredBill.billNo }}</p>
      <p><strong>Reservation Code:</strong> {{ filteredBill.reservationId }}</p>
      <p><strong>Guest Code:</strong> {{ filteredBill.guestCode }}</p>
    </div>
    <div class="col-md-6">
      <p><strong>Room ID:</strong> {{ filteredBill.roomCode }}</p>
      <p><strong>Date:</strong> {{ filteredBill.date }}</p>
    </div>
  </div>

  <table class="table table-bordered rounded-4 overflow-hidden mt-3">
    <thead style="background-color: #b3e5fc;">
      <tr>
        <th>Description</th>
        <th>Amount (₹)</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>Base Amount</td>
        <td>{{ filteredBill.baseAmount }}</td>
      </tr>
      <tr>
        <td>Tax</td>
        <td>{{ filteredBill.taxAmount }}</td>
      </tr>
      <tr>
        <th>Total</th>
        <th class="text-success fw-bold">{{ filteredBill.totalAmount }}</th>
      </tr>
    </tbody>
  </table>

  <p class="mt-4 text-center fs-5 text-primary">Thank you for staying with us!</p>
</div>
