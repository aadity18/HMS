<div class="container mt-4">
  <h2>Edit Staff</h2>
  <form [formGroup]="staffForm" (ngSubmit)="onSubmit()">
    <!-- <div class="mb-3">
      <label>Staff Code</label>
      <input type="text" class="form-control" formControlName="staffCode" />
    </div> -->

    <div class="mb-3">
      <label>Employee Name</label>
      <input type="text" class="form-control" formControlName="name" />
    </div>

    <div class="mb-3">
      <label>Employee Address</label>
      <input
        type="text"
        class="form-control"
        formControlName="address"
      />
    </div>

    <div class="mb-3">
      <label>NIC</label>
      <input type="text" class="form-control" formControlName="nic" />
    </div>

    <div class="mb-3">
      <label>Salary</label>
      <input type="number" class="form-control" formControlName="salary" [readonly]="staffForm.get('occupation')?.value === 'MANAGER' && currentUserRole !== 'OWNER'"/>
    </div>

    <div class="mb-3">
      <label>Age</label>
      <input type="number" class="form-control" formControlName="age" />
    </div>

    <div class="mb-3">
      <label for="occupation" class="form-label">Occupation</label>
      <select
        id="occupation"
        class="form-select"
        formControlName="occupation"
        [ngClass]="{ 'is-invalid': submitted && f['occupation'].errors }"
      >
        <option value="">-- Select Role --</option>
        <option *ngFor="let role of staffRoles" [value]="role" [disabled]="(role === 'OWNER' || role === 'MANAGER') && currentUserRole !== 'OWNER'">
          {{ role }}
        </option>
      </select>
      <div *ngIf="submitted && f['occupation'].errors" class="invalid-feedback">
        Occupation is required.
      </div>
    </div>

    <div class="mb-3">
      <label>Email</label>
      <input type="email" class="form-control" formControlName="email" />
    </div>

    <button
      type="submit"
      class="btn btn-success"
      [disabled]="staffForm.invalid"
    >
      Update Staff
    </button>
  </form>
</div>
